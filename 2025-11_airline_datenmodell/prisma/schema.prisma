datasource db {
    provider = "sqlite"
    url      = env("DATABASE_URL")
}

generator client {
    provider = "prisma-client"
    output   = "client"
    runtime  = "deno"
}

model Airport {
    id               String   @id @default(uuid())
    name             String
    iataCode         String   @unique
    city             String
    departingFlights Flight[] @relation(name: "OriginAirport")
    arrivingFlights  Flight[] @relation(name: "DestinationAirport")
}

model Flight {
    id            String      @id @default(uuid())
    flightNumber  String
    departureTime DateTime
    arrivalTime   DateTime
    passengers    Passenger[]
    origin        Airport     @relation(name: "OriginAirport", fields: [originId], references: [id])
    originId      String
    destination   Airport     @relation(name: "DestinationAirport", fields: [destinationId], references: [id])
    destinationId String
    plane         Plane       @relation(fields: [planeId], references: [id])
    planeId       String
}

model Passenger {
    id        String   @id @default(uuid())
    firstName String
    lastName  String
    email     String   @unique
    flights   Flight[]
}

model Plane {
    id       String   @id @default(uuid())
    model    String
    capacity Int
    flights  Flight[]
}
